<div class="add-modal">
    <div class="modal-header">
        <!-- <h4 class="modal-title" id="modal-basic-title">Add Employee</h4> -->
        <h4 class="modal-title" id="modal-basic-title">{{employee ? 'Edit' : 'Add'}} Employee</h4>
        <!-- <h4 class="modal-title" id="modal-basic-title" *ngIf="employee">Edit Employee</h4> -->
        <button type="button" class="btn-close" aria-label="Close"
            (click)="activeModal.dismiss('Cross click')"></button>
    </div>
    <div class="modal-body ">
        <div>
            <form [formGroup]="addEditForm" (ngSubmit)="OnAddEditSubmit()">
                <div class="container scrollable-content">
                    <div class="row">
                        <div class="col-lg-6">
                            <div class="mb-2">
                                <label>Name <span class="validation-red">*</span></label><br>
                                <input type="text" class="form-control" name="employee" formControlName="employee"
                                    placeholder="name">
                            </div>

                            <div *ngIf="addEditForm.get('employee')?.invalid && addEditForm.get('employee')?.touched"
                                class="mb-2">
                                <small *ngIf="addEditForm.get('employee')?.errors?.['required']">Employee Name is a
                                    required field
                                </small>
                                <small *ngIf="addEditForm.get('employee')?.errors?.['maxLength']">Employee Name should
                                    have max of 10 characters
                                </small>
                                <small *ngIf="addEditForm.get('employee')?.errors?.['minLength']">Employee Name should
                                    have min of 4 characters
                                </small>
                            </div>
                        </div>

                        <div class="col-lg-6">
                            <div class="mb-2">
                                <label>Mobile Number <span class="validation-red">*</span></label><br>
                                <input type="tel" class="form-control" name="mobileNumber"
                                    formControlName="mobileNumber" placeholder="mobile number">
                            </div>

                            <div *ngIf="addEditForm.get('mobileNumber')?.invalid && addEditForm.get('mobileNumber')?.touched "
                                class="mb-2">
                                <small *ngIf="addEditForm.get('mobileNumber')?.errors?.['required']">Mobile Number is a
                                    required field
                                </small>
                                <small *ngIf="addEditForm.get('mobileNumber')?.errors?.['pattern']">Mobile Number must
                                    contain 10 digits
                                </small>
                            </div>
                        </div>

                        <div class="col-lg-6">
                            <div class="gender">
                                <label>Gender <span class="validation-red">*</span></label><br>
                                <span *ngFor="let category of genderCategory" class="field-checkbox gender">
                                    <p-radioButton [inputId]="category.key" [value]="category.name"
                                        formControlName="gender" class="category"></p-radioButton>
                                    <label [for]="category.key">{{ category.name }}</label>
                                </span>
                            </div>
                        </div>

                        <div class="col-lg-6">
                            <div class="mb-2">
                                <label>Email <span class="validation-red">*</span></label><br>
                                <input type="email" class="form-control" name="email" formControlName="email"
                                    placeholder="email">
                            </div>

                            <div *ngIf="addEditForm.get('email')?.invalid && addEditForm.get('email')?.touched "
                                class="mb-2">
                                <small *ngIf="addEditForm.get('email')?.errors?.['required']">Email is a
                                    required field
                                </small>
                                <small *ngIf="addEditForm.get('email')?.errors?.['email']">Enter valid email

                                </small>
                            </div>
                        </div>

                        <div class="col-lg-6">
                            <div class="mb-2">
                                <label>Company Name <span class="validation-red">*</span></label><br>
                                <input type="text" class="form-control" name="company" formControlName="company"
                                    placeholder="company">
                            </div>

                            <div *ngIf="addEditForm.get('company')?.invalid && addEditForm.get('company')?.touched "
                                class="mb-2">
                                <small *ngIf="addEditForm.get('company')?.errors?.['required']">Company is a required
                                    field</small>
                            </div>
                        </div>

                        <div class="col-lg-6">
                            <label>Category <span class="validation-red">*</span></label>
                            <input type="text" [value]="addEditForm.get('category')?.value" disabled
                                class="form-control">
                        </div>

                        <div class="col-lg-6">
                            <div class="mb-2">
                                <label>Technologies <span class="validation-red">*</span></label><br>
                                <p-multiSelect [options]="techName" [filter]="true" [virtualScroll]="false"
                                    [(ngModel)]="selectedtech" optionLabel="name" placeholder="Select Technology"
                                    formControlName="technology" class="technology">
                                </p-multiSelect>
                            </div>

                            <div  *ngIf="addEditForm.get('technology')?.invalid && addEditForm.get('technology')?.touched " class="mb-2">
                                <small *ngIf="addEditForm.get('technology')?.errors?.['required']">Technology is a
                                    required field
                                </small>
                            </div>
                        </div>

                        <div class="col-lg-12">
                            <form [formGroup]="projectDet" (ngSubmit)="OnProjectDetail()">
                                <div>
                                    <label style="font-size: 20px;">Project Details <span class="validation-red" style="font-size: 15px;">*</span></label>
                                    <div class="col-lg-12">
                                        <div class="mb-3">
                                            <input type="text" class="form-control" name="projectName"
                                                formControlName="projectName" placeholder="title"
                                                [(ngModel)]="project.title">
                                        </div>
                                        <div *ngIf="projectDetails.length === 0">
                                            <div
                                                *ngIf="projectDet.get('projectName')?.invalid && projectDet.get('projectName')?.touched ">
                                                <small
                                                    *ngIf="projectDet.get('projectName')?.errors?.['required']">Project
                                                    Name
                                                    is a required field
                                                </small>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-lg-12">
                                        <div class="mb-3">
                                            <textarea type="text" class="form-control" name="projectDescription"
                                                formControlName="projectDescription" placeholder="Description"
                                                [(ngModel)]="project.description"></textarea>
                                        </div>
                                        <div *ngIf="projectDetails.length === 0">
                                            <div
                                                *ngIf="projectDet.get('projectDescription')?.invalid && projectDet.get('projectDescription')?.touched ">
                                                <small
                                                    *ngIf="projectDet.get('projectDescription')?.errors?.['required']">Project
                                                    Description is a required field
                                                </small>
                                            </div>
                                        </div>
                                    </div>


                                    <div class="col-lg-12">
                                        <button type="button" (click)="addProject()" class="btn-submit"
                                            [disabled]="!project.description  || !project.title "
                                            [ngClass]="project.description  && project.title ? 'btn-enable' : 'btn-disable'">
                                            {{ editMode ? 'Update' : 'Add' }} Project
                                        </button>
                                        <button class="btn-submit" (click)="resetProjectForm()">cancel</button>
                                    </div>



                                    <p-table [value]="projectDetails" styleClass="p-datatable-striped"
                                        [tableStyle]="{'min-width': '10rem'}" [scrollable]="true">
                                        <ng-template pTemplate="header">
                                            <tr>
                                                <th style="width: 150px">Title</th>
                                                <th style="width: 200px">Description</th>
                                                <th style="width: 70px">Actions</th>
                                            </tr>
                                        </ng-template>
                                        <ng-template pTemplate="body" let-details>
                                            <tr>
                                                <td><span pTooltip={{details.title}}
                                                        tooltipPosition="top">{{details.title.slice(0,14)}}</span></td>
                                                <td class="description-column">{{details.description}}</td>
                                                <td>
                                                    <div style="display: flex; gap: 10px;">
                                                        <button class="btn" type="button" pTooltip="Edit"
                                                            tooltipPosition="bottom" (click)="editProject(details)">
                                                            <i class="bi bi-pencil-square"></i>
                                                        </button>
                                                        <button class="btn" type="button" pTooltip="Delete"
                                                            tooltipPosition="bottom" (click)="deleteProject(details.id)"
                                                            [disabled]="disabledDelete(details.id)">
                                                            <i class="bi bi-trash3-fill"></i>
                                                        </button>
                                                    </div>
                                                    <!-- <button class="btn" type="button" pTooltip="Edit" tooltipPosition="bottom"
                                                        (click)="editProject(details)">
                                                        <i class="bi bi-pencil-square"></i>
                                                    </button>
                                                    <button class="btn" type="button" pTooltip="Delete" tooltipPosition="bottom"
                                                        (click)="deleteProject(details.id)" [disabled]="disabledDelete(details.id)">
                                                        <i class="bi bi-trash3-fill"></i>
                                                    </button> -->
                                                </td>
                                            </tr>
                                        </ng-template>
                                        <ng-template pTemplate="emptymessage">
                                            <tr>
                                                <td [attr.colspan]="3" style="text-align: center;">No records found</td>
                                            </tr>
                                        </ng-template>
                                    </p-table>
                                    <br>
                                </div>

                            </form>

                        </div>

                        <div class="col-lg-6">
                            <div class="mb-2">
                                <label>Experience <span class="validation-red">*</span></label><br>
                                <input type="number" class="form-control" name="experience" formControlName="experience"
                                    placeholder="Experience">
                            </div>

                            <div
                                *ngIf="addEditForm.get('experience')?.invalid && addEditForm.get('experience')?.touched " class="mb-2">
                                <small *ngIf="addEditForm.get('experience')?.errors?.['required']">Experience is a
                                    required field</small>
                            </div>
                        </div>

                        <div class="col-lg-6">
                            <div class="mb-2">
                                <label>Notice Period <span class="validation-red">*</span></label><br>
                                <!-- <p-dropdown [options]="cities" [(ngModel)]="selectedCity" placeholder="Select a City" [editable]="true" optionLabel="name"></p-dropdown> -->
                                <select name="noticePeriod" class="form-select" formControlName="noticePeriod"
                                    placeholder="Select Notice period">
                                    <option value="15">15 days</option>
                                    <option value="30">30 days</option>
                                    <option value="45">45 days </option>
                                    <option value="15">60 days</option>
                                    <option value="90">90 days</option>
                                </select>
                            </div>

                            <div
                                *ngIf="addEditForm.get('noticePeriod')?.invalid && addEditForm.get('noticePeriod')?.touched " class="mb-2">
                                <small *ngIf="addEditForm.get('noticePeriod')?.errors?.['required']">Notice Period is a
                                    required field
                                </small>
                            </div>
                        </div>
                        <!-- 
                        <div class="col-lg-6">
                            <div *ngIf="employee">
                                <div>
                                    <label>Verified</label>
                                    <select formControlName="verified" class="form-select">
                                        <option value="No">No</option>
                                        <option value="Yes">Yes</option>
                                    </select>
                                </div>
                            </div>

                            <div *ngIf="addEditForm.get('verified')?.invalid && addEditForm.get('verified')?.touched ">
                                <small *ngIf="addEditForm.get('verified')?.errors?.['verified']">Verified is a required
                                    field</small>
                            </div>
                        </div> -->

                        <div class="col-lg-6">
                            <div *ngIf="employee">
                                <div>
                                    <input type="checkbox" formControlName="verified" class="verify"
                                    [attr.disabled]="isVerifiedDisabled ? true : null" >
                                    <label class="verified" >Verified {{addEditForm.get('verified')?.value}}</label>

                                </div>
                            </div>

                            <div *ngIf="addEditForm.get('verified')?.invalid && addEditForm.get('verified')?.touched ">
                                <small *ngIf="addEditForm.get('verified')?.errors?.['verified']">Verified is a required
                                    field</small>
                            </div>
                        </div>

                        
                    </div>
                </div>
                <!-- [ngClass]="addEditForm.valid && projectDetails.length > 0 || editMode ? 'btn-enable' : 'btn-disable'"
                        (click)="activeModal.dismiss('Cross click')"
                        [disabled]="addEditForm.invalid || projectDetails.length == 0 || editMode"> -->
                <div class="col-lg-12 submitEmp">
                    <p-toast></p-toast>
                    <button type="submit" value="submit" class="btn-submit"
                        [ngClass]="(addEditForm.valid && projectDetails.length > 0 && !editMode) ? 'btn-enable' : 'btn-disable'"
                        (click)="activeModal.dismiss('Cross click')"
                        [disabled]="addEditForm.invalid || projectDetails.length == 0 || editMode">
                        {{ employee ? 'Update' : 'Add' }}
                    </button>

                    <button type="button" class="btn-submit"
                        (click)="activeModal.dismiss('Cross click')">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <!-- <div class="modal-footer">
        <button type="submit" value="submit" class="btn-submit"
            [ngClass]="addEditForm.valid && projectDetails.length > 0 ? 'btn-enable' : 'btn-disable'"
            (click)="activeModal.dismiss('Cross click')"
            [disabled]="addEditForm.invalid || projectDetails.length == 0">
            {{ employee ? 'Update' : 'Add' }}
        </button>

        <button type="button" class="btn-submit" (click)="activeModal.dismiss('Cross click')">Cancel</button>
    </div> -->
</div>

<!-- [disabled]="addEditForm.invalid || projectDetails.length == 0" -->















<!-- <div class="col-lg-6">
                        <div class="mb-3">
                            <label>Project Name :</label><br>
                            <input type="text" class="form-control" name="projectName" formControlName="projectName">
                        </div>

                        <div *ngIf="addEditForm.get('projectName')?.invalid && addEditForm.get('projectName')?.touched ">
                            <small *ngIf="addEditForm.get('projectName')?.errors?.['required']">Project Name is a
                                required field</small>
                        </div>
                    </div> 
                    <div class="col-lg-6">
                        <div class="mb-3">
                            <label>Project Description :</label><br>
                            <input type="text" class="form-control" name="projectDescription"
                                formControlName="projectDescription">
                        </div>

                        <div
                            *ngIf="addEditForm.get('projectDescription')?.invalid && addEditForm.get('projectDescription')?.touched ">
                            <small *ngIf="addEditForm.get('projectDescription')?.errors?.['required']">Project
                                Description is a required
                                field</small>
                        </div>
                    </div> -->








<!-- <div class="col-lg-6">
                        <div class="mb-3">
                            <label>Verified :</label><br>
                            <select name="verified" class="form-control" formControlName="verified">
                                <option value="yes">Yes</option>
                                <option value="no">No</option>
                            </select>
                        </div>
                    </div> -->



<!-- <button type="submit" value="submit" class="btn-submit"
                        [ngClass]="addEditForm.valid ? 'btn-enable' : 'btn-disable'" *ngIf='employee'
                        (click)="activeModal.dismiss('Cross click')" [disabled]="!addEditForm.valid">
                        Update</button>
                    <button type="submit" value="submit" class="btn-submit"
                        [ngClass]="addEditForm.valid ? 'btn-enable' : 'btn-disable'" *ngIf='!employee'
                        (click)="activeModal.dismiss('Cross click')" [disabled]="!addEditForm.valid">Submit</button> -->
<!-- <button (click)="clicked()">click</button> -->