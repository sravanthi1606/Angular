<div class="add-modal">
    <div class="modal-header">
        <!-- <h4 class="modal-title" id="modal-basic-title">Add Employee</h4> -->
        <h4 class="modal-title" id="modal-basic-title">{{employee ? 'Edit' : 'Add'}} Employee</h4>
        <!-- <h4 class="modal-title" id="modal-basic-title" *ngIf="employee">Edit Employee</h4> -->
        <button type="button" class="btn-close" aria-label="Close"
            (click)="activeModal.dismiss('Cross click')"></button>
    </div>
    <div class="modal-body">
        <div>
            <form [formGroup]="addEditForm" (ngSubmit)="OnAddEditSubmit()">
                <div class="container">
                    <div class="row">
                        <div class="col-lg-6">
                            <div class="mb-3">
                                <label>Name :</label><br>
                                <input type="text" class="form-control" name="employee" formControlName="employee"
                                    placeholder="name">
                            </div>

                            <div *ngIf="addEditForm.get('employee')?.invalid && addEditForm.get('employee')?.touched ">
                                <small *ngIf="addEditForm.get('employee')?.errors?.['required']">Employee Name is a
                                    required field
                                </small>
                                <small *ngIf="addEditForm.get('employee')?.errors?.['maxLength']">Employee Name should
                                    have max of 10 characters
                                </small>
                                <small *ngIf="addEditForm.get('employee')?.errors?.['minLength']">Employee Name should
                                    have  min of 4 characters
                                </small>
                            </div>
                        </div>

                        <div class="col-lg-6">
                            <div class="mb-3">
                                <label>Mobile Number :</label><br>
                                <input type="tel" class="form-control" name="mobileNumber"
                                    formControlName="mobileNumber" placeholder="mobile number">
                            </div>

                            <div
                                *ngIf="addEditForm.get('mobileNumber')?.invalid && addEditForm.get('mobileNumber')?.touched ">
                                <small *ngIf="addEditForm.get('mobileNumber')?.errors?.['required']">Mobile Number is a
                                    required field
                                </small>
                                <small *ngIf="addEditForm.get('mobileNumber')?.errors?.['pattern']">Mobile Number must
                                    contain 10 digits
                                </small>
                            </div>
                        </div>

                        <div class="col-lg-6">
                            <div class="gender">
                                <label>Gender</label><br>
                                <!-- 
                                <input type="radio" value="female" formControlName="gender">
                                <label>Female</label>
                                <input type="radio" value="male" formControlName="gender">
                                <label>Male</label> -->

                                <div *ngFor="let category of genderCategory" class="field-checkbox">
                                    <p-radioButton [inputId]="category.key" [value]="category.name"
                                        formControlName="gender" class="category"></p-radioButton>
                                    <label [for]="category.key">{{ category.name }}</label>
                                </div>
                            </div>
                        </div>



                        <div class="col-lg-6">
                            <div class="mb-3">
                                <label>Company Name :</label><br>
                                <input type="text" class="form-control" name="company" formControlName="company"
                                    placeholder="company">
                            </div>

                            <div *ngIf="addEditForm.get('company')?.invalid && addEditForm.get('company')?.touched ">
                                <small *ngIf="addEditForm.get('company')?.errors?.['required']">Company is a required field</small>
                            </div>
                        </div>

                        <div class="col-lg-6" *ngIf="!employee">
                            <label>Category :</label>
                            <input type="text" value="{{addEditForm.get('category')?.value}}" disabled
                                class="form-control">
                        </div>

                        <div class="col-lg-6">
                            <div class="mb-3">
                                <label>Technologies :</label><br>
                                <p-multiSelect [options]="techName" [(ngModel)]="selectedtech" optionLabel="name"
                                    placeholder="Select Technology" formControlName="technology" class="technology">
                                </p-multiSelect>
                            </div>

                            <div>
                                <div
                                    *ngIf="addEditForm.get('technology')?.invalid && addEditForm.get('technology')?.touched ">
                                    <small *ngIf="addEditForm.get('technology')?.errors?.['required']">Technology is a
                                        required field
                                    </small>
                                </div>
                            </div>


                        </div>



                        <div>
                            <label style="font-size: 20px;">Project Details</label>
                            <div class="col-lg-12">
                                <div class="mb-3">
                                    <input type="text" class="form-control" name="projectName"
                                        formControlName="projectName" placeholder="title" [(ngModel)]="project.title">
                                </div>
                                <div *ngIf="projectDetails.length === 0">
                                    <div
                                        *ngIf="addEditForm.get('projectName')?.invalid && addEditForm.get('projectName')?.touched ">
                                        <small *ngIf="addEditForm.get('projectName')?.errors?.['required']">Project Name
                                            is a required field
                                        </small>
                                    </div>
                                </div>
                            </div>

                            <div class="col-lg-12">
                                <div class="mb-3">
                                    <textarea type="text" class="form-control" name="projectDescription"
                                        formControlName="projectDescription" placeholder="Description"
                                        [(ngModel)]="project.description"></textarea>
                                </div>
                                <div *ngIf="projectDetails.length === 0">
                                    <div
                                        *ngIf="addEditForm.get('projectDescription')?.invalid && addEditForm.get('projectDescription')?.touched ">
                                        <small *ngIf="addEditForm.get('projectDescription')?.errors?.['required']">Project
                                            Description is a required field
                                        </small>
                                    </div>
                                </div>
                            </div>

                            <!-- <div *ngIf="projectDetails.length === 0 ">
                                <small class="text-danger">At least one project must be added.</small>
                            </div>  -->

                            <div class="col-lg-12" style="text-align: center;">
                                <button type="button" (click)="addProject()" class="btn-submit"
                                    [disabled]="!addEditForm.get('projectName')?.valid || !addEditForm.get('projectDescription')?.valid"
                                    [ngClass]="addEditForm.get('projectName')?.valid && addEditForm.get('projectDescription')?.valid ? 'btn-enable' : 'btn-disable'">
                                    {{ editMode ? 'Update' : 'Add' }} Project
                                </button>
                                <button class="btn-submit" type="reset">cancel</button>
                            </div>

                            <p-table [value]="projectDetails" styleClass="p-datatable-striped"
                                [tableStyle]="{'min-width': '10rem'}">
                                <ng-template pTemplate="header">
                                    <tr>
                                        <th>Title</th>
                                        <th>Description</th>
                                        <th>Actions</th>
                                    </tr>
                                </ng-template>
                                <ng-template pTemplate="body" let-details>
                                    <tr>
                                        <td>{{details.title}}</td>
                                        <td>{{details.description}}</td>
                                        <td>
                                            <button class="btn btn-warning m-2" type="button"
                                                (click)="editProject(details)">
                                                <i class="bi bi-pencil-square"></i>
                                            </button>
                                            <button class="btn btn-danger m-2" type="button"
                                                (click)="deleteProject(details.id)">
                                                <i class="bi bi-trash3-fill"></i>
                                            </button>
                                        </td>
                                    </tr>
                                </ng-template>
                                <ng-template pTemplate="emptymessage">
                                    <tr>
                                        <td [attr.colspan]="3" style="text-align: center;">No records found</td>
                                    </tr>
                                </ng-template>
                            </p-table>
                            <br>
                        </div>


                        <div class="col-lg-6">
                            <div class="mb-3">
                                <label>Experience :</label><br>
                                <input type="number" class="form-control" name="experience" formControlName="experience"
                                    placeholder="Experience">
                            </div>

                            <div
                                *ngIf="addEditForm.get('experience')?.invalid && addEditForm.get('experience')?.touched ">
                                <small *ngIf="addEditForm.get('experience')?.errors?.['required']">Experience is a
                                    required field</small>
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div class="mb-3">
                                <label>Notice Period :</label><br>
                                <!-- <p-dropdown [options]="cities" [(ngModel)]="selectedCity" placeholder="Select a City" [editable]="true" optionLabel="name"></p-dropdown> -->
                                <select name="noticePeriod" class="form-select" formControlName="noticePeriod"
                                    placeholder="Select Notice period">
                                    <option value="15">15 days</option>
                                    <option value="30">30 days</option>
                                    <option value="45">45 days </option>
                                    <option value="15">60 days</option>
                                    <option value="90">90 days</option>
                                </select>
                            </div>

                            <div
                                *ngIf="addEditForm.get('noticePeriod')?.invalid && addEditForm.get('noticePeriod')?.touched ">
                                <small *ngIf="addEditForm.get('noticePeriod')?.errors?.['required']">Notice Period is a
                                    required field
                                </small>
                            </div>
                        </div>

                        <div *ngIf="addEditForm.get('verified')?.invalid && addEditForm.get('verified')?.touched ">
                            <small *ngIf="addEditForm.get('verified')?.errors?.['verified']">Verified is a required  field</small>
                        </div>
                    </div>
                </div>
                <div class="col-lg-12 submitEmp">
                    <button type="submit" value="submit" class="btn-submit"
                        [ngClass]="projectDetails.length > 0 ? 'btn-enable' : 'btn-disable'"
                        (click)="activeModal.dismiss('Cross click')"
                        [disabled]="projectDetails.length == 0">
                        {{ employee ? 'Update' : 'Add' }}   {{projectDetails.length}}</button>


                    <button type="button" class="btn-submit"
                        (click)="activeModal.dismiss('Cross click')">Cancel</button>
                </div>
            </form>
        </div>
    </div>
</div>














<!-- <div class="col-lg-6">
                        <div class="mb-3">
                            <label>Project Name :</label><br>
                            <input type="text" class="form-control" name="projectName" formControlName="projectName">
                        </div>

                        <div *ngIf="addEditForm.get('projectName')?.invalid && addEditForm.get('projectName')?.touched ">
                            <small *ngIf="addEditForm.get('projectName')?.errors?.['required']">Project Name is a
                                required field</small>
                        </div>
                    </div> 
                    <div class="col-lg-6">
                        <div class="mb-3">
                            <label>Project Description :</label><br>
                            <input type="text" class="form-control" name="projectDescription"
                                formControlName="projectDescription">
                        </div>

                        <div
                            *ngIf="addEditForm.get('projectDescription')?.invalid && addEditForm.get('projectDescription')?.touched ">
                            <small *ngIf="addEditForm.get('projectDescription')?.errors?.['required']">Project
                                Description is a required
                                field</small>
                        </div>
                    </div> -->








<!-- <div class="col-lg-6">
                        <div class="mb-3">
                            <label>Verified :</label><br>
                            <select name="verified" class="form-control" formControlName="verified">
                                <option value="yes">Yes</option>
                                <option value="no">No</option>
                            </select>
                        </div>
                    </div> -->



<!-- <button type="submit" value="submit" class="btn-submit"
                        [ngClass]="addEditForm.valid ? 'btn-enable' : 'btn-disable'" *ngIf='employee'
                        (click)="activeModal.dismiss('Cross click')" [disabled]="!addEditForm.valid">
                        Update</button>
                    <button type="submit" value="submit" class="btn-submit"
                        [ngClass]="addEditForm.valid ? 'btn-enable' : 'btn-disable'" *ngIf='!employee'
                        (click)="activeModal.dismiss('Cross click')" [disabled]="!addEditForm.valid">Submit</button> -->